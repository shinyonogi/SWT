<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Lieferanten</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</head>
<body>

<nav th:include="navigation :: navigation"></nav>

<div class="container">

	<table class="table table-striped">
		<thead>
			<tr>
				<th scope="col" style="width: 40%">Lieferant</th>
				<th scope="col" style="width: 30%">Aufschlag</th>
				<th scope="col" style="width: 30%"></th>
			</tr>
		</thead>
		<tbody>
			<tr th:each="supplier : ${suppliers}">
				<td th:text="${supplier.name}"></td>
				<td th:text="${supplier.getSurchargeInPercent()} + '%'"></td>
				<td>
					<form th:action="@{/deleteSupplier/{id}(id=${supplier.id})}">
						<button type="submit" class="btn btn-secondary">Lieferant entfernen</button>
					</form>
				</td>
			</tr>
		</tbody>
	</table>
	
	<div class="row">
		<div class="col-4"></div>
		<div class="col-4">
			<form method="post" th:object="${supplierForm}" class="form pt-3" id="form">
				<div class="form-group">
					<h4>Neuer Lieferant</h4>
		    		<label for="name">Name:</label>
		    		<input required type="text" th:field="*{name}" class="form-control mb-2" id="name" >
		    		<label for="surcharge">Aufschlag in %</label>
		    		<input required type="number" th:field="*{surcharge}" class="form-control" id="surcharge" min="0" step="0.01" style="width: 100px">
		  			<button type="submit" class="btn btn-secondary mt-2 mb-3">Lieferant hinzufÃ¼gen</button>
					<div th:if="${result == 1}" class="alert alert-danger">Gleichnamiger Lieferant bereits vorhanden!</div>
		  		</div>
			</form>
		</div>
		<div class="col-4"></div>
	</div>
</div>

</body>
</html> 